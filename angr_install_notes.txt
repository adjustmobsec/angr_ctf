-------------------------------------------------------------------------------
1.  Install and customize the angr container (Skip this step if you want to
    start with Wu's Docker image)

# Create an account at Docker Hub (github, but for Docker images)
# Get your userid (e.g. wuchangfeng)

# Set up docker locally on your system
curl -fsSL https://get.docker.com/ | sh
sudo service docker start

# Download the angr image from docker hub ( angr/angr )
# Run an interactive terminal with bash and set up networking and display
docker run -it --net=host -e DISPLAY -v /tmp/.X11-unix angr/angr bash

# Install tools we need
apt-get update
apt-get install tmux gdb radare2 elfutils firefox xauth

# Since you customized the container, you will need to create a custom
#  container.  We will be using your Docker Hub account for this purpose.

# Find your local container id by typing the following on the host.
docker ps

# Example
# CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
# 33103b86cffa        angr/angr           "bash"              11 minutes ago      Up 11 minutes                           boring_darwin

# Login to docker
docker login

# Commit your container image
docker commit 33103b86cffa <uid>/angr_malware

# Push it up to docker hub
docker push <uid>/angr_malware

-------------------------------------------------------------------------------
2.  Run the modified docker container

# Get your CTF levels into a directory on the host file system that you
#  run Docker from  /path/to/angr_ctf

# Start the container and have it mount your local volume as well as give
#  access to your X11 socket to allow firefox to work when using radare2 for
# disassembly)

docker run -it --net=host -e DISPLAY -v /path/to/angr_ctf:/home/angr -v /tmp/.X11-unix wuchangfeng/angr_malware bash

# If this does not work, then on host, do an "xauth list" to find X windows
# cookie Should look like
#   mashimaro/unix:0  MIT-MAGIC-COOKIE-1  80bc8327c1745e110807be4a7311d7c6
# Then on docker, do an
#  "xauth add mashimaro/unix:0  MIT-MAGIC-COOKIE-1  80bc8327c1745e110807be4a7311d7c6"
#  Ignore file does not exist message
#  Firefox output should on host

-------------------------------------------------------------------------------
3.  If you want multiple windows to your container

# From the host
docker ps
docker exec -it <name_of_container> /bin/bash
